plugins {
    id 'java-conventions'
    id 'java-library'
    id "com.github.johnrengelman.shadow" version "7.1.2"
}

dependencies {

    api('org.elasticsearch.client:elasticsearch-rest-client:8.4.3')

    api("io.github.classgraph:classgraph:4.8.149")

    api("org.slf4j:jcl-over-slf4j:${slf4jVersion}")
    
    shadowJar {
        relocate 'org.apache.http', 'hidden.org.apache.http'
        relocate 'org.apache.logging', 'hidden.org.apache.logging'
        relocate 'org.apache.commons.codec', 'hidden.org.apache.commons.codec'
        relocate 'org.apache.commons.logging', 'hidden.org.apache.commons.logging'
    }

//shadowJar {
//    dependencies {
//        exclude(dependency('org.apache.logging.log4j:log4j-core:2.11.1'))
//    }
//}
    //
}